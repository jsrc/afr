<view class="page">
  <view wx:if="{{loading}}" class="state">加载中...</view>
  <view wx:if="{{errorMessage}}" class="state state-error">{{errorMessage}}</view>

  <view wx:if="{{!loading && !errorMessage && item}}" class="content-wrap">
    <view class="section section-main">
      <view class="title-cn">{{item.zhTitle}}</view>
      <view class="title-en">{{item.enTitle}}</view>
      <view class="meta">状态: {{item.status}}</view>
      <view class="meta">创建时间: {{item.displayCreatedAt}}</view>
      <view class="meta">最后尝试: {{item.displayLastAttemptAt}}</view>
      <view class="meta">发送时间: {{item.displaySentAt}}</view>
      <view class="meta">发送通道: {{item.sent_channel || '-'}}</view>
    </view>

    <view class="section">
      <view class="section-title">翻译后正文</view>
      <view wx:if="{{item.hasTranslatedBody}}" class="section-body">{{item.translatedBody}}</view>
      <view wx:if="{{!item.hasTranslatedBody}}" class="section-empty">
        当前记录没有保存翻译正文。请用 `--max-articles 1` 运行一次流程后再查看。
      </view>
    </view>

    <view class="section">
      <view class="section-title">原文摘要</view>
      <view class="section-body">{{item.originalBody || '-'}}</view>
    </view>

    <view class="section">
      <view class="section-title">原文链接</view>
      <view class="section-link">{{item.url}}</view>
    </view>
  </view>
</view>
